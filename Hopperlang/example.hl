signal input (
    x       hilo
)

signal output (
    y   int3
)

signal local (
    test1 int3
    test2 bus3
)

automat counter do

state s1 do
    y = 1
    test2 = 1
    test1 = test2
    when not (test1 = test2) goto s2
end

state s2 do
    y = 2
    test2 = 1
    test1 = test2
    when (test2 = 1) goto s3
end

state s3 do
    y = 3
    test2 = 1
    test1 = test2
    when (test2=1) goto s4
end

state s4 do
    y = 4
    test2 = 1
    test1 = test2
    when (test2=1) goto s1
end

end
