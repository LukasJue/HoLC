signal output y hilo
signal local help int2
signal local help2 bus2

automat halbierer do
	state s0 do
		help=0
		y=0
		help2=1		
		when (help<0) and not(help2<=help) goto s1
	end

	state s1 do
		help=1
		when (help>1) goto s2
	end

	state s2 do
		help = 2

		y = 1
		help2 = 1
		when (help>=1) or (help2=1) goto s3
	end

	state s3 do
		help=3
		when (help = 2) goto s0
	end
end
